library(pliman)
library(tidyverse)
library(ggridges)
set_wd_here("img")
contagem <- image_import("bacterias.jpg.jpeg", plot = TRUE)
contagem <- image_import("bacterias.jpg", plot = TRUE)
x
x <- image_dimension(contagem)
image_index(contagem, index = "R")
contagem <- image_segment_mask(contagem, shape = "disc",size = x[[1]]-1)
image_index(contagem, index = "R")
contagem <- image_segment_mask(contagem, shape = "disc",size = x[[1]])
contagem <- image_segment_mask(contagem, shape = "disc",size = x[[1]]-3)
contagem <- image_segment_mask(contagem, shape = "disc",size = x[[1]]-13)
contagem <- image_segment_mask(contagem, shape = "disc",size = x[[1]]-30)
contagem <- image_segment_mask(contagem, shape = "disc",size = x[[1]]-31)
image_index(contagem, index = "R")
indexes <- c("R,B,G,HUE,HUE2,BIM")
image_index(contagem, index = indexes)
res2 <-
analyze_objects(contagem,
index = "G",
reference = TRUE,
reference_area = 6,
reference_larger = TRUE,
show_contour = FALSE,
marker = "point")
res2 <-
analyze_objects(contagem,
index = "G",
reference = TRUE,
reference_area = 6,
reference_larger = TRUE,
show_contour = FALSE,
marker = "point")
res2 <-
analyze_objects(contagem,
index = "G",
marker = "point")
res2 <-
analyze_objects(contagem,
index = "G",
marker = "point",
filter = 2,
tolerance = 0.5,
lower_noise = 0.3,)
res2 <-
analyze_objects(contagem,
index = "G",
marker = "point",
filter = 5,
tolerance = 0.5,
lower_noise = 0.3)
res2 <-
analyze_objects(contagem,
index = "G",
marker = "point")
plot(res2, measure = "length")
seg <- image_segment(contagem,
index = "G",
col_background = "gray",
invert = TRUE,
plot = TRUE)
seg <- image_segment(contagem,
index = "R",
col_background = "gray",
invert = TRUE,
plot = TRUE)
seg <- image_segment(contagem,
index = indexes,
col_background = "gray",
invert = TRUE,
plot = TRUE)
seg <- image_segment(contagem,
index = "HUE",
col_background = "gray",
invert = TRUE,
plot = TRUE)
res2 <-
analyze_objects(seg,
index = "G",
marker = "point")
seg <- image_segment(contagem,
index = "HUE",
col_background = "gray",
invert = TRUE,
filter = 2,
plot = TRUE)
seg <- image_segment(contagem,
index = "HUE",
col_background = "gray",
invert = TRUE,
filter = 10,
plot = TRUE)
seg <- image_segment(contagem,
index = "HUE",
col_background = "gray",
invert = TRUE,
plot = TRUE)
res2 <-
analyze_objects(seg,
index = "G",
filter = 10,
marker = "point")
res2 <-
analyze_objects(seg,
index = "G",
filter = 0,
marker = "point")
res2 <-
analyze_objects(seg,
index = "HUE",
filter = 0,
marker = "point")
res2 <-
analyze_objects(seg,
index = "HUE",
filter = 0,
marker = "point")
seg <- image_segment(contagem,
index = "HUE",
col_background = "gray",
invert = TRUE,
plot = TRUE)
res2 <-
analyze_objects(seg,
index = "HUE",
filter = 0,
marker = "point")
res2 <-
analyze_objects(seg,
index = "HUE",
tolerance = 0.25,
marker = "point")
contagem <- image_import("bacterias.jpg", plot = TRUE)
#contagem <- image_resize(contagem,rel_size = 50)
x <- image_dimension(contagem)
indexes <- c("R,B,G,HUE,HUE2,BIM")
contagem <- image_segment_mask(contagem, shape = "disc",size = x[[1]]-31)
image_index(contagem, index = indexes)
seg <- image_segment(contagem,
index = "HUE",
col_background = "gray",
invert = TRUE,
plot = TRUE)
res2 <-
analyze_objects(seg,
index = "HUE",
tolerance = 0.25,
marker = "point")
seg <- image_segment(contagem,
index = "HUE",
col_background = "BLACK",
invert = TRUE,
plot = TRUE)
res2 <-
analyze_objects(seg,
index = "HUE",
tolerance = 0.25,
marker = "point")
res2 <-
analyze_objects(seg,
index = "R",
tolerance = 0.25,
marker = "point")
res2 <-
analyze_objects(seg,
index = "R",
Marker = "point")
res2 <-
analyze_objects(seg,
index = "R",
marker = "point")
seg <- image_segment(contagem,
index = "HUE",
col_background = "BLACK",
invert = FALSE,
plot = TRUE)
res2 <-
analyze_objects(seg,
index = "R",
marker = "point")
plot(res2, measure = "length")
res2 <-
analyze_objects(seg,
index = "R",
marker = "point")
seg <- image_segment(contagem,
index = "HUE",
col_background = "BLACK",
invert = FALSE,
plot = TRUE)
seg <- image_segment(contagem,
index = "HUE",
col_background = "BLACK",
invert = TRUE,
plot = TRUE)
image_index(seg2, index = indexes)
seg2 <- image_segment(contagem,
index = "HUE",
col_background = "BLACK",
invert = TRUE,
plot = TRUE)
image_index(seg2, index = indexes)
res1 <-
analyze_objects(seg,
index = "G",
invert = TRUE,
marker = "point")
res1 <-
analyze_objects(seg,
index = "G",
invert = TRUE)
res2 <-
analyze_objects(seg,
index = "R",
marker = "point")
contagem <- image_import("bacterias.jpg", plot = TRUE)
#contagem <- image_resize(contagem,rel_size = 50)
x <- image_dimension(contagem)
indexes <- c("R,B,G,HUE,HUE2,BIM")
contagem <- image_segment_mask(contagem, shape = "disc",size = x[[1]]-31)
image_index(contagem, index = indexes)
seg <- image_segment(contagem,
index = "HUE",
col_background = "BLACK",
invert = FALSE,
plot = TRUE)
seg2 <- image_segment(contagem,
index = "HUE",
col_background = "BLACK",
invert = TRUE,
plot = TRUE)
image_index(seg2, index = indexes)
#pegar o espaço entre as colonias
res1 <-
analyze_objects(seg,
index = "G",
invert = TRUE,
marker = "point")
#pegar o espaço entre as colonias (arrumar pois esta pegando a parte de fora)
res2 <-
analyze_objects(seg,
index = "R",
marker = "point")
#pegar o espaço entre as colonias(arrumar pois esta pegando a parte de fora)
res1 <-
analyze_objects(seg,
index = "G",
invert = TRUE,
marker = "point")
#pegar o espaço entre as colonias
res2 <-
analyze_objects(seg,
index = "R",
marker = "point")
image_index(contagem, index = indexes)
#verificar qual index as colonias ficam mais evidentes
image_index(seg2, index = indexes)
#pegar o espaço entre as colonias(arrumar pois esta pegando a parte de fora)
res1 <-
analyze_objects(seg2,
index = "G",
invert = TRUE,
marker = "point")
#pegar as colonias (halos completos)
res2 <-
analyze_objects(seg2,
index = "R",
marker = "point")
#pegar as colonias (halos completos)
res2 <-
analyze_objects(seg,
index = "R",
marker = "point")
#pegar o espaço entre as colonias
res1 <-
analyze_objects(seg2,
index = "G",
invert = TRUE,
marker = "point")
#pegar as colonias (halos completos)
res2 <-
analyze_objects(seg,
index = "R",
marker = "point")
#verificar qual index as colonias ficam mais evidentes
image_index(seg2, index = indexes)
res3 <-
analyze_objects(seg,
index = "HUE2",
marker = "pointer")
res3 <-
analyze_objects(seg,
index = "HUE2",
marker = "id")
res3 <-
analyze_objects(seg2,
index = "HUE2",
marker = "id")
res3 <-
analyze_objects(seg2,
index = "HUE2",
invert = TRUE,
marker = "id")
res3 <-
analyze_objects(seg,
index = "HUE2",
invert = TRUE,
marker = "id")
res3 <-
analyze_objects(seg,
index = "HUE2",
invert = FALSE,
marker = "id")
res3 <-
analyze_objects(seg,
index = "HUE2",
invert = TRUE,
marker = "id")
#seguementar colonias com seus halos
seg2 <- image_segment(contagem,
index = "HUE",
col_background = "BLACK",
invert = TRUE,
plot = TRUE)
#verificar qual index as colonias ficam mais evidentes
image_index(seg2, index = indexes)
seg3 <- image_segment(seg2,
index = "HUE2"
col_background = "BLACK",
seg3 <- image_segment(seg2,
index = "HUE2",
col_background = "BLACK",
invert = TRUE,
plot = TRUE)
seg3 <- image_segment(seg2,
index = "HUE2",
col_background = "BLACK",
invert = FALSE,
plot = TRUE)
seg3 <- image_segment(seg2,
index = "HUE2",
col_background = "BLACK",
invert = TRUE,
plot = TRUE)
seg3 <- image_segment(seg2,
index = "HUE2",
col_background = "BLACK",
invert = TRUE,
filter = 2,
plot = TRUE)
seg3 <- image_segment(seg2,
index = "HUE2",
col_background = "BLACK",
invert = TRUE,
threshold = 0.25,
plot = TRUE)
seg3 <- image_segment(seg2,
index = "HUE2",
col_background = "BLACK",
invert = TRUE,
threshold = 0.1,
plot = TRUE)
seg3 <- image_segment(seg2,
index = "HUE2",
col_background = "BLACK",
invert = TRUE,
threshold = 1,
plot = TRUE)
#tentar pegar somente os halos
seg3 <- image_segment(seg2,
index = "HUE2",
col_background = "BLACK",
invert = TRUE,
plot = TRUE)
#tentar pegar somente os halos
seg3 <- image_segment(seg2,
index = "HUE2",
col_background = "BLACK",
invert = FALSE,
plot = TRUE)
res3 <-
analyze_objects(seg3,
index = "HUE2",
invert = TRUE,
marker = "id")
plot(res3, measure = "ID")
plot(res3, measure = "id")
res3 <-
analyze_objects(seg3,
index = "HUE2",
invert = TRUE,
marker = "id")
#pegar as colonias (halos completos)
res2 <-
analyze_objects(seg,
index = "R",
marker = "point")
#pegar as colonias (halos completos)
res2 <-
analyze_objects(seg,
index = "R",
marker = "area")
#tentar pegar somente os halos
seg3 <- image_segment(seg2,
index = "HUE2",
col_background = "BLACK",
invert = FALSE,
plot = TRUE)
#area total da placa colonizada
seg <- image_segment(contagem,
index = "HUE",
col_background = "BLACK",
invert = FALSE,
plot = TRUE)
#verificar qual index as colonias ficam mais evidentes
image_index(seg1, index = indexes)
#verificar qual index as colonias ficam mais evidentes
image_index(seg, index = indexes)
#codigo para pegar DPI
pegar_dpi <- dpi(seg2,viewer = "map")
#codigo para pegar DPI
pegar_dpi <- dpi(contagem,viewer = "map")
#pegar as colonias (halos completos)
res2 <-
analyze_objects(seg,
index = "R",
marker = "area")
get_measures(res2, dpi = pegar_dpi) |> plot_measures(measure = "area", col = "black",size = 3)
get_measures(res2, dpi = pegar_dpi) |> plot_measures(measure = "area", col = "RED",size = 1)
#pegar as colonias (halos completos)
res2 <-
analyze_objects(seg,
index = "R",
marker = "area")
get_measures(res2, dpi = pegar_dpi) |> plot_measures(measure = "area", col = "RED",size = 1)
#pegar as colonias (halos completos)
res2 <-
analyze_objects(seg,
index = "R")
get_measures(res2, dpi = pegar_dpi) |> plot_measures(measure = "area", col = "RED",size = 1)
res3 <-
analyze_objects(seg3,
index = "HUE2",
invert = TRUE,
marker = "id")
#pegar as colonias (halos completos)
res2 <-
analyze_objects(seg,
index = "R")
get_measures(res2, dpi = pegar_dpi) |> plot_measures(measure = "area", col = "RED",size = 1)
res3 <-
analyze_objects(seg3,
index = "HUE2",
invert = TRUE,
marker = "id")
